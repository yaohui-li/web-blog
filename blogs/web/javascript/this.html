<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/logo.jpg"><title>ä»¤äººå¤´ç–¼çš„ This æŒ‡å‘é—®é¢˜ | æ— èŠ@å‰ç«¯</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/web-blog/assets/app-596f461c.js"><link rel="modulepreload" href="/web-blog/assets/framework-053dfde5.js"><link rel="modulepreload" href="/web-blog/assets/this.html-886b09a6.js"><link rel="modulepreload" href="/web-blog/assets/this.html-973b2883.js"><link rel="prefetch" href="/web-blog/assets/index.html-6d5e9dd3.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-8c2edf06.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-5882692e.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-d1c9a447.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-405999de.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-0b3ef479.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-e3cab8fc.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-5d799f12.js" as="script"><link rel="prefetch" href="/web-blog/assets/api.html-855b35be.js" as="script"><link rel="prefetch" href="/web-blog/assets/home.html-e3a6cfb2.js" as="script"><link rel="prefetch" href="/web-blog/assets/plugin.html-e80a7383.js" as="script"><link rel="prefetch" href="/web-blog/assets/theme.html-6cb3ae69.js" as="script"><link rel="prefetch" href="/web-blog/assets/introduction.html-d16094d6.js" as="script"><link rel="prefetch" href="/web-blog/assets/eventLoop.html-917907aa.js" as="script"><link rel="prefetch" href="/web-blog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-29fe8d1f.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-5b4b2a1f.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-a3e07316.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-23e4752f.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-4f0c9d48.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-90b16c0f.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-378889b2.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-40471abe.js" as="script"><link rel="prefetch" href="/web-blog/assets/index.html-3333603f.js" as="script"><link rel="prefetch" href="/web-blog/assets/api.html-d25f18c6.js" as="script"><link rel="prefetch" href="/web-blog/assets/home.html-e3c7bfc5.js" as="script"><link rel="prefetch" href="/web-blog/assets/plugin.html-ffaecf9b.js" as="script"><link rel="prefetch" href="/web-blog/assets/theme.html-f3c880b6.js" as="script"><link rel="prefetch" href="/web-blog/assets/introduction.html-51a4c2cb.js" as="script"><link rel="prefetch" href="/web-blog/assets/eventLoop.html-aec3a6bd.js" as="script"><link rel="prefetch" href="/web-blog/assets/404.html-8519ac55.js" as="script"><link rel="prefetch" href="/web-blog/assets/reco-valine-a0c1af1f.js" as="script">
    <link rel="preload" href="/web-blog/assets/style-213fe6d4.css" as="style"><link rel="stylesheet" href="/web-blog/assets/style-213fe6d4.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><div><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/web-blog/logo.jpg" alt="æ— èŠ@å‰ç«¯"><a href="/web-blog/" class="site-name can-hide">æ— èŠ@å‰ç«¯</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/web-blog/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/web-blog/categories/qianduanjichu/1/" class="link" aria-label="å‰ç«¯åŸºç¡€"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯åŸºç¡€<!--]--></span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/web-blog/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/web-blog/categories/qianduanjichu/1/" class="link" aria-label="å‰ç«¯åŸºç¡€"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯åŸºç¡€<!--]--></span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/web-blog/logo.jpg" alt="æ— èŠ@å‰ç«¯"><a href="/web-blog/" class="site-name can-hide">æ— èŠ@å‰ç«¯</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">ä»¤äººå¤´ç–¼çš„ This æŒ‡å‘é—®é¢˜</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Better Me<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2023-05-03<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯åŸºç¡€<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->this<!--]--></span></span><!----></div><div class="theme-reco-default-content"><div><h1 id="ä»¤äººå¤´ç–¼çš„-this-å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#ä»¤äººå¤´ç–¼çš„-this-å¯¹è±¡" aria-hidden="true">#</a> ä»¤äººå¤´ç–¼çš„ This å¯¹è±¡</h1><p>åœ¨ Javascript ä¸­ this åŠ¨æ€æŒ‡å‘ï¼Œåœºæ™¯è¾ƒå¤šã€‚ å¼€å‘ä¸­ç»å¸¸ä¼šé‡è§ this æŒ‡å‘è°çš„é—®é¢˜ã€‚ç†è§£ this å¯¹æˆ‘ä»¬å¼€å‘å¹¶ä¸”å†™å‡ºæ›´åŠ ä¼˜é›…çš„ä»£ç æ˜¯ææœ‰è£¨ç›Šçš„ã€‚</p><h2 id="this-åˆ°åº•æŒ‡å‘è°å‘¢" tabindex="-1"><a class="header-anchor" href="#this-åˆ°åº•æŒ‡å‘è°å‘¢" aria-hidden="true">#</a> This åˆ°åº•æŒ‡å‘è°å‘¢?</h2><h3 id="_1-å…¨å±€ç¯å¢ƒä¸­çš„-this" tabindex="-1"><a class="header-anchor" href="#_1-å…¨å±€ç¯å¢ƒä¸­çš„-this" aria-hidden="true">#</a> 1. å…¨å±€ç¯å¢ƒä¸­çš„ this</h3><p>åœ¨å…¨å±€ç¯å¢ƒä¸­è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘ window; åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹(use strict)æŒ‡å‘ undefined</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">strictFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ˜¯ä¸€ä¸ªåŸºç¡€çš„åˆ—å­, ä¸‹é¢å·²æ”¹æ‰“å°ä»€ä¹ˆå‘¢?</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fn</span><span class="token operator">:</span> <span class="token function">funciton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bar<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fn <span class="token operator">=</span> foo<span class="token punctuation">.</span>fn
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary class="custom-container-title">ç­”æ¡ˆ</summary><p>window undefined</p></details><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">åŸå› </p><p>fon.fn å‡½æ•°èµ‹å€¼ç»™ fn å˜é‡, åœ¨æ‰§è¡Œ fn è¿™ä¸ªå˜é‡å‡½æ•°æ—¶,æ‰§è¡Œç¯å¢ƒåœ¨å…¨å±€ç¯å¢ƒä¸­ã€‚å› æ­¤ this ä¸º window å¯¹è±¡,è€Œ window å¯¹è±¡ä¸‹æ²¡æœ‰ bar å±æ€§, æ‰€ä»¥æ‰“å° undefined</p></div><p>å¦‚æœæ¢æˆå¦å¤–ä¸€ç§è°ƒç”¨çš„è¯, ç»“æœä¼šæ˜¯æ€æ ·å‘¢ï¼Ÿ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fn</span><span class="token operator">:</span> <span class="token function">funciton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bar<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
foo<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary class="custom-container-title">ç­”æ¡ˆ</summary><p>foo 100</p></details><h3 id="_2-ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ä¸­çš„-this" tabindex="-1"><a class="header-anchor" href="#_2-ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ä¸­çš„-this" aria-hidden="true">#</a> 2. ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ä¸­çš„ this</h3><p>å½“ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„å¯¹è±¡ã€‚çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œä½ çŸ¥é“ç­”æ¡ˆå—ï¼Ÿ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> o3 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> print <span class="token operator">=</span> o1<span class="token punctuation">.</span>print<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary class="custom-container-title">ç­”æ¡ˆ</summary><p>1, 1, undefined</p></details><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">åŸå› </p><p>ç¬¬ä¸€ä¸ªæ‰“å°ä¸º 1ï¼Œæ¯”è¾ƒç®€å•ä¸”åœ¨ä¸Šé¢æåˆ°å°±ä¸èµ˜è¿°äº†</p><p>ç¬¬äºŒä¸ªæ‰“å°ä¹Ÿä¸º 1 return çš„æ˜¯ o1 è°ƒç”¨ print æ–¹æ³•, å¯¹äº print æ–¹æ³•é‡Œé¢çš„ this è€Œè¨€, å°†ä¼šæŒ‡å‘ o1 å¯¹è±¡</p><p>ç¬¬ä¸‰ä¸ªæ‰“å°ä¸º undefined å°† o1 çš„æ–¹æ³• print èµ‹å€¼äºå˜é‡ printï¼Œç”±äºè„±ç¦»äº† o1 çš„æ‰§è¡Œä¸Šä¸‹æ–‡<strong>è£¸å¥”</strong>è°ƒç”¨, æ­¤æ—¶çš„ this æŒ‡å‘å…¨å±€å¯¹è±¡ window</p></div><h3 id="_3-é€šè¿‡-bind-call-apply-æ”¹å˜-this-æŒ‡å‘" tabindex="-1"><a class="header-anchor" href="#_3-é€šè¿‡-bind-call-apply-æ”¹å˜-this-æŒ‡å‘" aria-hidden="true">#</a> 3. é€šè¿‡ bind/call/apply æ”¹å˜ this æŒ‡å‘</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;_ucas&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">logName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;mike&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result -&gt; mike</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>bind/call/apply éƒ½æ˜¯ç”¨æ¥æ”¹å˜ this æŒ‡å‘çš„å‡½æ•°ï¼Œå®ƒä»¬ä¹‹é—´æœ‰äº›åŒºåˆ«.</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">åŒºåˆ«</p><p>call/apply ç›´æ¥æ‰§è¡Œç›¸å…³å‡½æ•°è°ƒç”¨, ç¬¬ä¸€ä¸ªå‚æ•°ä¸º this æŒ‡å‘çš„å¯¹è±¡,call/apply ä¹‹é—´çš„åŒºåˆ«åœ¨äºå‚æ•°çš„è®¾å®šä¸Š bind ä¸ä¼šæ‰§è¡Œç›¸å…³å‡½æ•°,åˆ™æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å¹¶ä¸”è®¾å®šäº†å‡½æ•° this çš„æŒ‡å‘</p></div><h3 id="_4-æ„é€ å‡½æ•°å’Œ-this" tabindex="-1"><a class="header-anchor" href="#_4-æ„é€ å‡½æ•°å’Œ-this" aria-hidden="true">#</a> 4. æ„é€ å‡½æ•°å’Œ this</h3><p>æƒ³äº†è§£æ„é€ å‡½æ•°çš„ this, éœ€è¦äº†è§£æ„é€ å‡½æ•°æ‰§è¡Œæ—¶,åšäº†äº›ä»€ä¹ˆï¼Ÿ</p><ol><li>åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</li><li>å°†æ„é€ å‡½æ•°çš„ this æŒ‡å‘è¿™ä¸ªæ–°çš„å¯¹è±¡</li><li>ä¸ºæ–°å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•</li><li>æœ€ç»ˆè¿”å›æ–°çš„å¯¹è±¡</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token string">&quot;Lucas&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°è¿‡ç¨‹å¯ä»¥ç”¨å¦‚ä¸‹ä»£ç è¡¨è¿°:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token function">Foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ„é€ å‡½æ•°å‡ºç°äº†æ˜¾ç¤º return æƒ…å†µ, çœ‹çœ‹å¦‚ä¸‹ä»£ç å¦‚ä½•è¾“å‡º?</p><ul><li>åœºæ™¯ä¸€</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Sudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Lucas&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> o<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœºæ™¯äºŒ</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Sudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Lucas&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary class="custom-container-title">ç­”æ¡ˆ</summary><p>undefined Lucas</p></details><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">åˆ†æ</p><p>åœºæ™¯ä¸€: ç”±äºæ„é€ å‡½æ•°å®é™…ä¹Ÿæ˜¯å‡½æ•°,å¦‚æœæ˜¾ç¤ºçš„ return æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ this ä¼šæŒ‡å‘ return çš„é‚£ä¸ªå¯¹è±¡</p><p>åœºæ™¯äºŒ: æ˜¾ç¤º return çš„æ˜¯ä¸€ä¸ªæ•°å­—,å³ä¸€ä¸ªåŸºæœ¬ç±»å‹, this ä»ä¼šæŒ‡å‘å®ä¾‹</p></div><h3 id="_5-ç®­å¤´å‡½æ•°ä¸­çš„-this" tabindex="-1"><a class="header-anchor" href="#_5-ç®­å¤´å‡½æ•°ä¸­çš„-this" aria-hidden="true">#</a> 5. ç®­å¤´å‡½æ•°ä¸­çš„ this</h3><p>åœ¨ç®­å¤´å‡½æ•°ä¸­, this çš„æŒ‡å‘ç”±å¤–å±‚(å‡½æ•°/å…¨å±€)ä½œç”¨åŸŸæ¥å†³å®šçš„ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result -&gt; window</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœ setTimeout çš„å›è°ƒå‡½æ•°æ”¹ä¸ºç®­å¤´å‡½æ•°å‘¢ï¼Ÿ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result -&gt; fnå‡½æ•°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-this-ä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#_6-this-ä¼˜å…ˆçº§" aria-hidden="true">#</a> 6. this ä¼˜å…ˆçº§</h3><p>é€šå¸¸æŠŠ callã€applyã€bindã€new å¯¹ this çš„ç»‘å®šç§°ä¸º<strong>æ˜¾å¼ç»‘å®š</strong>ï¼Œæ ¹æ®è°ƒç”¨å…³ç³»ç¡®å®š this çš„æŒ‡å‘çš„æƒ…å†µç§°ä¸º<strong>éšå¼ç»‘å®š</strong></p><p>æ˜¾å¼ç»‘å®šå’Œéšå¼ç»‘å®šè°çš„ä¼˜å…ˆçº§æ›´é«˜å‘¢ï¼Ÿçœ‹çœ‹ä¸€æ®µä»£ç ç¤ºä¾‹</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> foo<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> foo<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
o1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
o2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary class="custom-container-title">ç­”æ¡ˆ</summary><p>2ï¼Œ 1</p></details><p>çœ‹äº†è¿è¡Œç»“æœå‘ç°ï¼Œcall/apply çš„æ˜¾ç¤ºç»‘å®šä¸€èˆ¬ä¼˜å…ˆçº§æ›´é«˜ã€‚ åœ¨çœ‹ä¸€æ®µä»£ç </p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result -&gt; 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°† bar ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œè¾“å‡ºç»“æœåˆæ˜¯å¦ä¸€ä¸ªç»“æœã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">bar</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result -&gt; 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">åŸå› </p><p>bar å‡½æ•°æœ¬èº«é€šè¿‡ bind æ–¹æ³•å°† this çš„æŒ‡å‘äº† o1 å¯¹è±¡,å½“å†æ¬¡ä½œä¸ºæ„é€ å‡½æ•°é€šè¿‡ new æ“ä½œç¬¦æ‰§è¡Œæ—¶, æ–°å®ä¾‹å’Œ o1 å°±å·²ç»è§£ç»‘äº†, ä¹Ÿå°±æ˜¯ new æ“ä½œç¬¦ä¿®æ”¹äº† this çš„æŒ‡å‘, ç”±æ­¤å¯è§ new ç»‘å®šçš„ä¼˜å…ˆçº§é«˜äº bind ç»‘å®š</p></div><p>å†çœ‹çœ‹ç®­å¤´å‡½æ•°, å¦‚ä¸‹ä»£ç ç¤ºä¾‹:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result -&gt; 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°† foo å‡½æ•°æ”¹å†™æˆå¦‚ä¸‹ä»£ç , ç»“æœå°±ä¼šæ˜¯ 123ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ’¡ å¦‚æœå˜é‡ a çš„ var ä¿®æ”¹ä¸º const ç»“æœæ˜¯ä»€ä¹ˆâ“</p><div class="language-diff line-numbers-mode" data-ext="diff"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> var a = 123;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const a = 123;
</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary class="custom-container-title">ç­”æ¡ˆ</summary><p>undefined</p></details><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">åŸå› </p><p>const å£°æ˜çš„å˜é‡ä¸ä¼šæŒ‚è½½åˆ° window å¯¹è±¡ä¸Š, æ‰€ä»¥åœ¨ window è‡ªç„¶æ˜¯æ‰¾ä¸åˆ° a å˜é‡çš„ã€‚</p></div><h3 id="_7-ç»“æŸè¯­" tabindex="-1"><a class="header-anchor" href="#_7-ç»“æŸè¯­" aria-hidden="true">#</a> 7. ç»“æŸè¯­</h3><p>this æŒ‡å‘çš„åœºæ™¯å°±åˆ°æ­¤ç»“æŸäº†, ä½ æ˜¯ä¸æ˜¯å¯¹ This çš„æŒ‡å‘é—®é¢˜çš„å¤´ç–¼ç—…å¥½äº†å‘¢ï¼Ÿå¦‚æœè¿˜æœ‰ç–‘æƒ‘, ä¸éœ€è¦ç°å¿ƒ, å¯ä»¥è‡ªå·±åŠ¨æ‰‹åå¤éªŒè¯æ€»ç»“ã€‚æ…¢æ…¢å°±ä¼šèä¼šè´¯é€šã€‚</p></div></div><footer class="page-meta"><!----><!----></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#this-åˆ°åº•æŒ‡å‘è°å‘¢" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="This åˆ°åº•æŒ‡å‘è°å‘¢?"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->This åˆ°åº•æŒ‡å‘è°å‘¢?<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_1-å…¨å±€ç¯å¢ƒä¸­çš„-this" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1. å…¨å±€ç¯å¢ƒä¸­çš„ this"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1. å…¨å±€ç¯å¢ƒä¸­çš„ this<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_2-ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ä¸­çš„-this" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2. ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ä¸­çš„ this"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ä¸­çš„ this<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_3-é€šè¿‡-bind-call-apply-æ”¹å˜-this-æŒ‡å‘" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3. é€šè¿‡ bind/call/apply æ”¹å˜ this æŒ‡å‘"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. é€šè¿‡ bind/call/apply æ”¹å˜ this æŒ‡å‘<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_4-æ„é€ å‡½æ•°å’Œ-this" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4. æ„é€ å‡½æ•°å’Œ this"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4. æ„é€ å‡½æ•°å’Œ this<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_5-ç®­å¤´å‡½æ•°ä¸­çš„-this" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="5. ç®­å¤´å‡½æ•°ä¸­çš„ this"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->5. ç®­å¤´å‡½æ•°ä¸­çš„ this<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_6-this-ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6. this ä¼˜å…ˆçº§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6. this ä¼˜å…ˆçº§<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/web-blog/blogs/web/javascript/this.html#_7-ç»“æŸè¯­" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="7. ç»“æŸè¯­"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->7. ç»“æŸè¯­<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/web-blog/assets/app-596f461c.js" defer></script>
  </body>
</html>
